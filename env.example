# ============================================================
# 环境配置文件示例
# 复制此文件为 .env 并填入实际值
# ============================================================
# 使用说明：
# 1. 复制此文件: cp .env.example .env
# 2. 填写实际的 API Key 和配置信息
# 3. .env 文件已被 .gitignore 忽略，不会被提交到代码仓库
# 4. ⚠️ 切勿在此文件中填写真实的密钥
# ============================================================

# ============================================================
# Dify Webhook 配置（必需）
# ⚠️ 以下配置必须填写，否则Dify功能无法使用
# ============================================================
DIFY_API_KEY=your-dify-api-key-here
DIFY_BASE_URL=http://your-dify-server:5001
DIFY_USER_ID=your-dify-user-id-here

# Dify工作流ID（可选，留空使用已发布的工作流）
DIFY_WORKFLOW_ID=

# ============================================================
# AI模型API配置（必需）
# ⚠️ 至少配置一个AI模型，用于生成会议纪要
# ============================================================

# DeepSeek 配置
DEEPSEEK_API_KEY=your-deepseek-api-key-here
DEEPSEEK_API_BASE=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# Qwen 配置（可选）
QWEN_API_KEY=your-qwen-api-key-here
QWEN_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL=qwen-turbo

# GLM 配置（可选）
GLM_API_KEY=your-glm-api-key-here
GLM_API_BASE=https://open.bigmodel.cn/api/paas/v4
GLM_MODEL=glm-4

# ============================================================
# 说明
# ============================================================
# 1. API密钥获取：
#    - DeepSeek: https://platform.deepseek.com/
#    - Qwen: https://dashscope.console.aliyun.com/
#    - GLM: https://open.bigmodel.cn/
#    - Dify: 自部署的Dify实例
#
# 2. 并发配置：
#    - 并发配置已在 config.py 中固定为生产级配置
#    - ASR池大小: 6, 转写线程数: 12
#    - 如需调整，请直接修改 config.py 中的 CONCURRENCY_CONFIG
#
# 3. 安全建议：
#    - 定期更换API密钥
#    - 不要在代码中硬编码密钥
#    - .env 文件权限设置为 600 (chmod 600 .env)

# ============================================================
# 文本后处理配置（可选）
# 用于改善转写文本质量（叠词/口吃重复清理、不当词过滤）
# ============================================================

# 是否启用文本后处理（默认 true）
TEXT_POSTPROCESS_ENABLED=true

# 是否清理明显叠词/口吃式重复（默认 true）
# 例如："这是这是第二个" -> "这是第二个"；"the the" -> "the"
TEXT_REMOVE_REPETITIONS=true

# 不当词过滤（默认关闭，避免误伤；如需启用请配置词表）
# TEXT_PROFANITY_ACTION 支持：
# - mask: 按原词长度用掩码字符打码（默认）
# - replace: 统一替换为 TEXT_PROFANITY_REPLACEMENT
# - remove: 直接移除命中词
TEXT_PROFANITY_ENABLED=false
TEXT_PROFANITY_ACTION=mask
TEXT_PROFANITY_MASK_CHAR=*
TEXT_PROFANITY_REPLACEMENT=[不当内容已处理]

# 匹配模式：
# - substring: 中文/混合内容默认（命中子串即处理）
# - word: 仅按“词边界”匹配（适合纯英文/数字词）
TEXT_PROFANITY_MATCH_MODE=substring

# 词库文件路径（支持注释/空行；相对路径相对项目根目录）
# 默认内置示例：resources/profanity_words_zh.txt
TEXT_PROFANITY_WORDS_FILE=resources/profanity_words_zh.txt

# 逗号分隔词表（示例），用于临时追加/覆盖，不要加空格更稳妥：
# TEXT_PROFANITY_WORDS=脏话1,脏话2,verybadword
TEXT_PROFANITY_WORDS=
